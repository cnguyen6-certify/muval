<!--  IHE PCC Reconciliation Performer: 1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5.1 -->

<!-- errors -->

  <pattern id="p-1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5.1-errors">
    <title>IHE PCC Reconciliation Performer - errors validation phase</title>
    <rule context='*[cda:templateId/@root="1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5.1"]'>

    <assert test='cda:templateId[@root="1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5"]'>
       Error: In IHE PCC Reconciliation Performer (1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5.1), the performer SHALL
       contain a templateId/@root attribute containing the value 1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5 to assert
       conformance to the performer template.
    </assert>
    <assert test='cda:assignedEntity/cda:id'>
       Error: In IHE PCC Reconciliation Performer (1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5.1), at least one [1..*]
       id element SHALL be present.
    </assert>

    <assert test='cda:assignedEntity/cda:addr'>
       Error: In IHE PCC Reconciliation Performer (1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5.1), at least one [1..*]
       addr element SHALL be present.
    </assert>
    <assert test='cda:assignedEntity/cda:telecom'>
       Error: In IHE PCC Reconciliation Performer (1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5.1), at least one [1..*]
       telecom element SHALL be present.
    </assert>
    <assert test='cda:assignedEntity/cda:assignedPerson/cda:name'>
       Error: In IHE PCC Reconciliation Performer (1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5.1), at least one [1..*]
       name element SHALL be present.
    </assert>

    </rule>

    <rule context='*[cda:templateId/@root="1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5.1"]/cda:assignedEntity/cda:id'>

    <assert test='not(./@nullFlavor)'>
       Error: In IHE PCC Reconciliation Performer (1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5.1), the id element SHALL NOT
       use the @nullFlavor attribute.
    </assert>

    </rule>

    <rule context='*[cda:templateId/@root="1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5.1"]/cda:assignedEntity/cda:addr'>

    <assert test='not(./@nullFlavor)'>
       Error: In IHE PCC Reconciliation Performer (1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5.1), the addr element SHALL NOT
       use the @nullFlavor attribute.
    </assert>

    </rule>
    <rule context='*[cda:templateId/@root="1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5.1"]/cda:assignedEntity/cda:telecom'>

    <assert test='not(./@nullFlavor)'>
       Error: In IHE PCC Reconciliation Performer (1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5.1), the telecom element SHALL NOT
       use the @nullFlavor attribute.
    </assert>

    </rule>
    <rule context='*[cda:templateId/@root="1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5.1"]/cda:assignedEntity/cda:assignedPerson/cda:name'>

    <assert test='not(./@nullFlavor)'>
       Error: In IHE PCC Reconciliation Performer (1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5.1), the name element SHALL NOT
       use the @nullFlavor attribute.
    </assert>

    </rule>


  </pattern>

  <!-- warning -->

  <pattern id="p-1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5.1-warnings">
    <title>IHE PCC Reconciliation Performer - warning validation phase</title>

<!--
    <rule context='*[cda:templateId/@root="1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5.1"]'>
      <report test="."/>
    </rule>
-->

  </pattern>

  <!-- manual -->

  <pattern id="p-1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5.1-manual">
    <title>IHE PCC Reconciliation Performer - manual validation phase</title>

<!--
    <rule context='*[cda:templateId/@root="1.3.6.1.4.1.19376.1.5.3.1.1.24.3.5.1"]'>
      <report test="."/>
    </rule>
-->
  </pattern>

